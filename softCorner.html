<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, maximum-scale=5.0">
    
    <!-- Primary SEO Tags -->
    <title>Rounded Corners Photo Editor - Add Soft Corners | Picsap</title>
    <meta name="title" content="Rounded Corners Photo Editor - Add Soft Corners | Picsap">
    <meta name="description" content="Free online rounded corners photo editor by Picsap. Add soft corners and rounded edges to your photos instantly. Professional corner rounding tool with precise control.">
    <meta name="keywords" content="rounded corners photo editor, soft corners, round photo edges, corner radius editor, rounded picture editor, circular photo corners, border radius photo">
    <meta name="author" content="Picsap">
    <meta name="robots" content="index, follow">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://picsap.com/softCorner.html">
    
    <!-- Favicon Links -->
    <link rel="apple-touch-icon" sizes="180x180" href="Photos/Favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="Photos/Favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="Photos/Favicons/favicon-16x16.png">
    <link rel="manifest" href="Photos/Favicons/site.webmanifest">
    <link rel="shortcut icon" href="Photos/Favicons/favicon.ico">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://picsap.com/softCorner.html">
    <meta property="og:title" content="Rounded Corners Photo Editor - Add Soft Corners | Picsap">
    <meta property="og:description" content="Add beautiful rounded corners to your photos for free. Professional soft corner editor with real-time preview and precise control.">
    <meta property="og:image" content="https://picsap.com/Photos/Logo.png">
    <meta property="og:site_name" content="Picsap">
    
    <!-- Twitter Card -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Rounded Corners Photo Editor - Add Soft Corners | Picsap">
    <meta property="twitter:description" content="Add beautiful rounded corners to your photos for free. Professional soft corner editor with real-time preview and precise control.">
    <meta property="twitter:image" content="https://picsap.com/Photos/Logo.png">
    
    <!-- Additional Meta Tags -->
    <meta name="theme-color" content="#FFB300">
    
    <!-- Mobile-specific optimizations -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="snackbar.css">
    <style>
        .main-container {
            background-color: #1a1a0a;
            border: 0.3vw solid #FFB300;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 0 20px rgba(255, 179, 0, 0.3);
            margin: 2rem auto;
            max-width: 1200px;
        }
        
        .upload-area {
            border: 3px dashed #FFB300;
            border-radius: 10px;
            padding: 3rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: rgba(255, 179, 0, 0.05);
            margin-bottom: 2rem;
        }
        
        .upload-area:hover {
            background-color: rgba(255, 179, 0, 0.1);
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(255, 179, 0, 0.2);
        }
        
        .upload-area.dragover {
            background-color: rgba(255, 179, 0, 0.2);
            border-color: #fff;
        }

        .upload-icon {
            font-size: 4rem;
            color: #FFB300;
            margin-bottom: 1rem;
        }

        .upload-text {
            color: #FFB300;
            font-family: "Rajdhani", sans-serif;
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .upload-btn {
            background-color: #151508;
            color: #FFB300;
            border: 2px solid #FFB300;
            border-radius: 10px;
            padding: 10px 30px;
            font-family: "Rajdhani", sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .upload-btn:hover {
            box-shadow: 0 0 10px #FFB300;
            transform: translateY(-2px);
        }

        .file-input {
            display: none;
        }

        .editor-section {
            display: none;
        }

        .image-container {
            text-align: center;
            background-color: #000;
            border: 2px solid #FFB300;
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .canvas-container {
            position: relative;
            display: inline-block;
            max-width: 100%;
            border: 2px solid #FFB300;
            border-radius: 10px;
            overflow: hidden;
            background-color: #000;
        }

        .preview-image {
            max-width: 100%;
            max-height: 500px;
            border-radius: 10px;
            transition: border-radius 0.3s ease;
            display: block;
        }

        #previewCanvas {
            display: block;
            max-width: 100%;
            max-height: 500px;
            border-radius: 10px;
            transition: border-radius 0.3s ease;
        }

        .controls-panel {
            background-color: #1a1a0a;
            border: 2px solid #FFB300;
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .control-label {
            color: #FFB300;
            font-family: "Rajdhani", sans-serif;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 0 0 10px #FFB300;
        }

        .range-container {
            margin-bottom: 2rem;
        }

        .range-value {
            color: #FFB300;
            font-family: "Rajdhani", sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            text-align: center;
            margin: 1rem 0;
        }

        .range-labels {
            display: flex;
            justify-content: space-between;
            color: #FFB300;
            font-family: "Rajdhani", sans-serif;
            font-size: 1.2rem;
            font-weight: 500;
            margin-top: 0.5rem;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .action-btn {
            background-color: #151508;
            color: #FFB300;
            border: 2px solid #FFB300;
            border-radius: 10px;
            padding: 12px 20px;
            font-family: "Rajdhani", sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 150px;
        }

        .action-btn:hover {
            box-shadow: 0 0 10px #FFB300;
            transform: translateY(-2px);
        }

        .info-panel {
            background-color: rgba(255, 179, 0, 0.1);
            border: 1px solid #FFB300;
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .info-panel h3 {
            color: #FFB300;
            font-family: "Rajdhani", sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .info-panel p {
            color: #FFB300;
            font-family: "Rajdhani", sans-serif;
            font-size: 1.2rem;
            font-weight: 500;
            line-height: 1.6;
            margin: 0;
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .main-container {
                margin: 1rem;
                padding: 1rem;
                border-width: 3px;
            }
            
            .upload-area {
                padding: 2rem 1rem;
                margin-bottom: 1rem;
            }
            
            .upload-text {
                font-size: 1.5rem;
            }
            
            .upload-btn {
                padding: 8px 20px;
                font-size: 1.2rem;
            }
            
            .image-container {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            
            .controls-panel {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            
            .control-label {
                font-size: 1.5rem;
                margin-bottom: 0.5rem;
            }
            
            .range-value {
                font-size: 1.2rem;
            }
            
            .range-labels {
                font-size: 1rem;
            }
            
            .action-buttons {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .action-btn {
                min-width: auto;
                font-size: 1.1rem;
                padding: 10px 15px;
            }
            
            .info-panel {
                padding: 1rem;
                margin-top: 1rem;
            }
            
            .info-panel h3 {
                font-size: 1.2rem;
            }
            
            .info-panel p {
                font-size: 1rem;
            }
            
            #previewCanvas {
                max-height: 300px;
            }
        }

        @media (max-width: 480px) {
            .main-container {
                margin: 0.5rem;
                padding: 0.75rem;
                border-width: 2px;
            }
            
            .upload-area {
                padding: 1.5rem 0.5rem;
            }
            
            .upload-text {
                font-size: 1.2rem;
            }
            
            .upload-btn {
                padding: 6px 15px;
                font-size: 1rem;
            }
            
            .upload-icon {
                font-size: 3rem;
            }
            
            .image-container {
                padding: 0.75rem;
            }
            
            .controls-panel {
                padding: 0.75rem;
            }
            
            .control-label {
                font-size: 1.3rem;
            }
            
            .range-value {
                font-size: 1.1rem;
            }
            
            .range-labels {
                font-size: 0.9rem;
            }
            
            .action-btn {
                font-size: 1rem;
                padding: 8px 12px;
            }
            
            .info-panel {
                padding: 0.75rem;
            }
            
            .info-panel h3 {
                font-size: 1.1rem;
            }
            
            .info-panel p {
                font-size: 0.9rem;
            }
            
            #previewCanvas {
                max-height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="d-flex justify-content-center align-items-center mt-5">
            <img src="Photos/Logo.png" class="logo mr-4 rounded-circle" alt="Picsap Logo - Rounded Corners Photo Editor"><h1 class="text-center title mb-0">SOFT CORNER EDITOR</h1>
        </div>
    
    <div class="d-flex justify-content-start mb-4">
        <a href="index.html" class="btn btn-outline-warning">
            <i class="bi bi-arrow-left"></i> Back to Home
        </a>
    </div>
</div> 
    <div class="main-container">
        
        <!-- Upload Section -->
        <div class="upload-section" id="uploadSection">
            <div class="upload-area" id="uploadArea">
                <div class="upload-icon">
                    <i class="bi bi-image"></i>
                </div>
                <div class="upload-text">Drag & drop your photo here</div>
                <div style="margin: 10px 0; color: #FFB300; font-family: Rajdhani; font-size: 1.2rem;">or</div>
                <button class="upload-btn" id="choosePhotoBtn">
                    Choose Photo
                </button>
                <input type="file" id="fileInput" class="file-input" accept="image/*">
            </div>
        </div>

        <!-- Editor Section -->
        <div class="editor-section" id="editorSection">
            <div class="image-container">
                <div class="canvas-container" id="canvasContainer">
                    <canvas id="previewCanvas"></canvas>
                </div>
            </div>

            <div class="controls-panel">
                <div class="control-group">
                    <label class="control-label">Border Radius Control</label>
                    <div class="range-container">
                        <input type="range" id="radiusSlider" min="0" max="200" value="0" step="1">
                        <div class="range-value" id="radiusValue">0px</div>
                        <div class="range-labels">
                            <span>0px</span>
                            <span>200px</span>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="action-btn" id="downloadBtn">
                        <i class="bi bi-download"></i> Download
                    </button>
                    <button class="action-btn" id="resetBtn">
                        <i class="bi bi-arrow-clockwise"></i> Reset
                    </button>
                    <button class="action-btn" id="newImageBtn">
                        <i class="bi bi-plus-circle"></i> New Photo
                    </button>
                </div>

                <div class="info-panel">
                    <h3><i class="bi bi-lightbulb"></i> Tips</h3>
                    <p>• Use the slider to adjust corner roundness<br>
                    • Higher values create more rounded corners<br>
                    • Download saves your photo with applied effects</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const choosePhotoBtn = document.getElementById('choosePhotoBtn');
        const uploadSection = document.getElementById('uploadSection');
        const editorSection = document.getElementById('editorSection');
        const previewCanvas = document.getElementById('previewCanvas');
        const canvasContainer = document.getElementById('canvasContainer');
        const radiusSlider = document.getElementById('radiusSlider');
        const radiusValue = document.getElementById('radiusValue');
        const downloadBtn = document.getElementById('downloadBtn');
        const resetBtn = document.getElementById('resetBtn');
        const newImageBtn = document.getElementById('newImageBtn');

        let currentImageData = null;
        let originalImageSrc = null;
        let originalImage = null;
        const ctx = previewCanvas.getContext('2d');
        ctx.save(); // Save initial context state

        // File upload functionality
        uploadArea.addEventListener('click', (e) => {
            // Only trigger file input if not clicking the button
            if (!e.target.closest('.upload-btn')) {
                fileInput.click();
            }
        });
        
        choosePhotoBtn.addEventListener('click', () => {
            fileInput.click();
        });
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFileSelect(files[0]);
            }
        });

        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleFileSelect(e.target.files[0]);
            }
        });

        function handleFileSelect(file) {
            if (!file.type.startsWith('image/')) {
                alert('Please select an image file!');
                return;
            }

            const reader = new FileReader();
            reader.onload = (e) => {
                originalImageSrc = e.target.result;
                currentImageData = e.target.result;
                
                originalImage = new Image();
                originalImage.onload = () => {
                    setupCanvas();
                    
                    // Reset slider and update display
                    radiusSlider.value = 0;
                    radiusValue.textContent = '0px';
                    
                    // Show editor section
                    uploadSection.style.display = 'none';
                    editorSection.style.display = 'block';
                };
                originalImage.src = originalImageSrc;
            };
            reader.readAsDataURL(file);
        }

        function setupCanvas() {
            if (!originalImage) return;
            
            // Calculate display size maintaining aspect ratio
            const maxWidth = window.innerWidth > 768 ? 800 : window.innerWidth - 100;
            const maxHeight = window.innerWidth > 768 ? 500 : 300;
            
            let displayWidth = originalImage.width;
            let displayHeight = originalImage.height;
            
            if (displayWidth > maxWidth) {
                displayHeight = (displayHeight * maxWidth) / displayWidth;
                displayWidth = maxWidth;
            }
            
            if (displayHeight > maxHeight) {
                displayWidth = (displayWidth * maxHeight) / displayHeight;
                displayHeight = maxHeight;
            }
            
            // Set canvas size to match display size exactly
            previewCanvas.width = displayWidth;
            previewCanvas.height = displayHeight;
            previewCanvas.style.width = displayWidth + 'px';
            previewCanvas.style.height = displayHeight + 'px';
            
            // Draw the image on canvas
            drawImageWithRadius();
        }

        // Radius control
        radiusSlider.addEventListener('input', updateRadius);

        function drawImageWithRadius() {
            if (!originalImage) return;
            
            const radius = parseInt(radiusSlider.value);
            
            // Save context and clear canvas
            ctx.save();
            ctx.clearRect(0, 0, previewCanvas.width, previewCanvas.height);
            
            // Create rounded rectangle path
            if (radius > 0) {
                ctx.beginPath();
                ctx.roundRect(0, 0, previewCanvas.width, previewCanvas.height, radius);
                ctx.clip();
            }
            
            // Draw the image
            ctx.drawImage(originalImage, 0, 0, previewCanvas.width, previewCanvas.height);
            
            // Restore context
            ctx.restore();
        }

        function updateRadius() {
            const radius = radiusSlider.value;
            radiusValue.textContent = radius + 'px';
            drawImageWithRadius();
        }

        // Reset function
        resetBtn.addEventListener('click', () => {
            radiusSlider.value = 0;
            radiusValue.textContent = '0px';
            drawImageWithRadius();
        });

        // New image function
        newImageBtn.addEventListener('click', () => {
            uploadSection.style.display = 'block';
            editorSection.style.display = 'none';
            fileInput.value = '';
            radiusSlider.value = 0;
            radiusValue.textContent = '0px';
            
            // Clear canvas and reset state
            ctx.clearRect(0, 0, previewCanvas.width, previewCanvas.height);
            currentImageData = null;
            originalImageSrc = null;
            originalImage = null;
        });

        // Download function
        downloadBtn.addEventListener('click', () => {
            if (!currentImageData) return;

            const canvas = document.createElement('canvas');
            const downloadCtx = canvas.getContext('2d');
            const img = new Image();
            
            img.onload = () => {
                canvas.width = img.width;
                canvas.height = img.height;
                
                const radius = parseInt(radiusSlider.value);
                
                // Calculate scaling factor between preview and original image
                const scaleX = img.width / previewCanvas.width;
                const scaleY = img.height / previewCanvas.height;
                const scaleFactor = Math.max(scaleX, scaleY);
                
                // Scale the radius for the full-size image
                const scaledRadius = radius * scaleFactor;
                
                // Save context and clear with transparent background
                downloadCtx.save();
                downloadCtx.clearRect(0, 0, img.width, img.height);
                
                if (scaledRadius > 0) {
                    // Create rounded rectangle clipping path
                    downloadCtx.beginPath();
                    downloadCtx.roundRect(0, 0, img.width, img.height, scaledRadius);
                    downloadCtx.clip();
                }
                
                // Draw the image
                downloadCtx.drawImage(img, 0, 0);
                downloadCtx.restore();
                
                // Download the result
                canvas.toBlob((blob) => {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `soft-corner-photo-${Date.now()}.png`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 'image/png');
            };
            
            img.src = originalImageSrc;
        });

        // Add roundRect polyfill for older browsers
        if (!CanvasRenderingContext2D.prototype.roundRect) {
            CanvasRenderingContext2D.prototype.roundRect = function(x, y, width, height, radius) {
                if (width < 2 * radius) radius = width / 2;
                if (height < 2 * radius) radius = height / 2;
                this.beginPath();
                this.moveTo(x + radius, y);
                this.arcTo(x + width, y, x + width, y + height, radius);
                this.arcTo(x + width, y + height, x, y + height, radius);
                this.arcTo(x, y + height, x, y, radius);
                this.arcTo(x, y, x + width, y, radius);
                this.closePath();
            }
        }
    </script>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content text-center">
            <div class="footer-social">
                <a href="https://github.com/tunahan-akargul" class="social-link" aria-label="GitHub Profile"><i class="bi bi-github"></i></a>
                © 2024 PICSAP - Simple Photo Editing Tools
                <a href="https://www.linkedin.com/in/tunahan-akarg%C3%BCl-b7a7a9208/" class="social-link" aria-label="LinkedIn Profile"><i class="bi bi-linkedin"></i></a>
            </div>
        </div>
    </footer>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
